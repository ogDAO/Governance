# Optino Governance DAO Smart Contracts

Status: **Work In Progress**

The Optino Governance (OptinoGov) smart contract is the Decentralised Autonomous Organisation (DAO) that operates the Optino Vending Machine.

Optino Governance token (OGToken) holders lock their OGTokens into the OptinoGov smart contract to submit and vote on proposals. If successful, the proposal will be executed, e.g., the minting of new OGTokens, the burning of staked tokens, and setting of fee rates.

When OGTOkens are locked into the OptinoGov smart contract, the equivalent number of Optino Governance Dividend token (OGDToken) are minted. These tokens will accrue fees generated by the Optino Vending Machine.

Following are the main smart contracts:

* [contracts/OptinoGov.sol](contracts/OptinoGov.sol) - [flattened](flattened/OptinoGov_flattened.sol)
* [contracts/OGToken.sol](contracts/OGToken.sol) - [flattened](flattened/OGToken_flattened.sol)
* [contracts/OGDToken.sol](contracts/OGDToken.sol) - [flattened](flattened/OGDToken_flattened.sol)

See also:

* https://wiki.optino.io

<br />

<hr />

### Remix

To test out these smart contracts in [Remix](http://remix.ethereum.org/), copy the contents of the files above into the same file names within Remix. Comment out the local `import ".\{file.sol}"` and uncomment the GitHub `import "https://github.com/ogDAO/Governance/blob/master/contracts/{file}.sol";`.

<br />

<hr />

### Testing

#### Clone Repository
Check out this repository into your projects subfolder:

```
git clone https://github.com/ogDAO/Governance.git
cd Governance
```

<br />

#### Install And Run Go Ethereum

Install [Go-Ethereum](https://github.com/ethereum/go-ethereum) (also known as `geth`) on your local computer to run a development blockchain node for testing. Or install and use [Ganache](https://www.trufflesuite.com/ganache) instead.

If you have installed `geth`, run:

```
./00_runGeth.sh
./01_unlockAndFundAccounts.sh
```

You may need to `chmod 700 00_runGeth.sh 01_unlockAndFundAccounts.sh` before being able to execute it.

<br />

#### Install Truffle


If not already installed, you will need [NPM](https://www.npmjs.com/). [NVM](https://github.com/nvm-sh/nvm) may take away some of your NPM versioning pain.

You will need to install [Truffle](https://github.com/trufflesuite/truffle):

```
npm install -g truffle
```

<br />

#### Install Truffle Flattener And Flatten Solidity Files

You may want to to install [Truffle Flattener](https://github.com/nomiclabs/truffle-flattener) using the command:

```
npm install -g truffle-flattener
./10_flattenSolidityFiles.sh
```

The flattened files can be found in the [./flattened/](./flattened/) subdirectory.

<br />

#### Install Other Modules

You will need the following modules installed:

```
npm install --save web3@1.2.1
npm install --save ethers
npm install --save eth-sig-util
npm install --save bignumber.js

```

<br />

#### Compile

```
truffle compile
```

<br />

#### Run OptinoGov Tests

```
truffle test test/TestOptinoGov.test.js
```

Sample output:

```
Iota:Governance bok$ truffle test test/TestOptinoGov.test.js
Using network 'development'.


Compiling your contracts...
===========================
> Everything is up to date, there is nothing to compile.

TestToken.test.js: describe(TestToken behavior tests)


  Contract: Test OptinoGov
--- Setup completed ---
RESULT:  # Account                                             EtherBalanceChange                             OG                            OGD @ 183 -> 191
RESULT:                                                                                                      FEE
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT: 0 0xa00Af22D07c87d96EeeB0Ed583f8F6AC7812827E         0.000000000000000000       10000.000000000000000000           0.000000000000000000 Owner:0xa00A
RESULT:                                                                                     0.000000000000000000
RESULT: 1 0xa11AAE29840fBb5c86E6fd4cF809EBA183AEf433         0.000000000000000000       10000.000000000000000000           0.000000000000000000 User1:0xa11A
RESULT:                                                                                     0.000000000000000000
RESULT: 2 0xa22AB8A9D641CE77e06D98b7D7065d324D3d6976         0.000000000000000000       10000.000000000000000000           0.000000000000000000 User2:0xa22A
RESULT:                                                                                     0.000000000000000000
RESULT: 3 0xa33a6c312D9aD0E0F2E95541BeED0Cc081621fd0         0.000000000000000000       10000.000000000000000000           0.000000000000000000 User3:0xa33a
RESULT:                                                                                     0.000000000000000000
RESULT: 4 0x3d98693e0d665a075eDf9Aacd28169EB787fe993         0.000000000000000000           0.000000000000000000           0.000000000000000000 OGToken:0x3d98
RESULT:                                                                                     0.000000000000000000
RESULT: 5 0x71130A1a433B047069Cb1e7b16923d081458d40f         0.000000000000000000           0.000000000000000000           0.000000000000000000 OGDToken:0x7113
RESULT:                                                                                     0.000000000000000000
RESULT: 6 0x32463D05d5F5443AdC9720137A5d4a50341C6c7e         0.000000000000000000           0.000000000000000000           0.000000000000000000 FeeToken:0x3246
RESULT:                                                                                     0.000000000000000000
RESULT: 7 0x83Dd10d39d0aB60A52E08050959f9BcC61b0D4dF         0.000000000000000000           0.000000000000000000           0.000000000000000000 OptinoGov:0x83Dd
RESULT:                                                                                     0.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:                                                                                 40000.000000000000000000           0.000000000000000000 Total Token Balances
RESULT:                                                                                     0.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:
RESULT: Token 0 OGToken:0x3d98 @ 0x3d98693e0d665a075eDf9Aacd28169EB787fe993
RESULT: - symbol               : OG
RESULT: - name                 : Optino Governance
RESULT: - decimals             : 18
RESULT: - totalSupply          : 40000
RESULT: - owner                : OptinoGov:0x83Dd
RESULT: Token 1 OGDToken:0x7113 @ 0x71130A1a433B047069Cb1e7b16923d081458d40f
RESULT: - symbol               : OGD
RESULT: - name                 : Optino Governance Dividend
RESULT: - decimals             : 18
RESULT: - totalSupply          : 0
RESULT: - owner                : OptinoGov:0x83Dd
RESULT: - dividendTokenLength  : 2
RESULT: - dividendTokens       : 0 FeeToken:0x3246
RESULT: - dividendTokens       : 1 0x0000000000000000000000000000000000000000
RESULT: Token 2 FeeToken:0x3246 @ 0x32463D05d5F5443AdC9720137A5d4a50341C6c7e
RESULT: - symbol               : FEE
RESULT: - name                 : Fee
RESULT: - decimals             : 18
RESULT: - totalSupply          : 0
RESULT: - owner                : Owner:0xa00A
RESULT: OptinoGov OptinoGov:0x83Dd @ 0x83Dd10d39d0aB60A52E08050959f9BcC61b0D4dF
RESULT: - ogToken              : OGToken:0x3d98
RESULT: - ogdToken             : OGDToken:0x7113
RESULT: - maxLockTerm          : 1000 seconds = 0.01157407407407407407 days
RESULT: - rewardsPerSecond     : 150000000000000000 = 12960 per day
RESULT: - proposalCost         : 100000000000000000000 = 100
RESULT: - proposalThreshold    : 1000000000000000 = 0.1%
RESULT: - quorum               : 200000000000000000 = 20%
RESULT: - quorumDecayPerSecond : 12683916793 = 39.9999999984048% per year
RESULT: - votingDuration       : 10 seconds = 0.00011574074074074074 days
RESULT: - executeDelay         : 10 seconds = 0.00011574074074074074 days
RESULT: - rewardPool           : 0 = 0
RESULT: - totalVotes           : 0 = 0
RESULT: - proposalCount        : 0
RESULT: - stakeInfoLength      : 0
RESULT:  # Account                                             EtherBalanceChange                             OG                            OGD @ 183 -> 195
RESULT:                                                                                                      FEE
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT: 0 0xa00Af22D07c87d96EeeB0Ed583f8F6AC7812827E         0.014778000000000000       10000.000000000000000000           0.000000000000000000 Owner:0xa00A
RESULT:                                                                                     0.000000000000000000
RESULT: 1 0xa11AAE29840fBb5c86E6fd4cF809EBA183AEf433        -0.005726000000000000        9000.000000000000000000        1000.000000000000000000 User1:0xa11A
RESULT:                                                                                     0.000000000000000000
RESULT: 2 0xa22AB8A9D641CE77e06D98b7D7065d324D3d6976        -0.004526000000000000        9000.000000000000000000        1000.000000000000000000 User2:0xa22A
RESULT:                                                                                     0.000000000000000000
RESULT: 3 0xa33a6c312D9aD0E0F2E95541BeED0Cc081621fd0        -0.004526000000000000        9000.000000000000000000        1000.000000000000000000 User3:0xa33a
RESULT:                                                                                     0.000000000000000000
RESULT: 4 0x3d98693e0d665a075eDf9Aacd28169EB787fe993         0.000000000000000000           0.000000000000000000           0.000000000000000000 OGToken:0x3d98
RESULT:                                                                                     0.000000000000000000
RESULT: 5 0x71130A1a433B047069Cb1e7b16923d081458d40f         0.000000000000000000           0.000000000000000000           0.000000000000000000 OGDToken:0x7113
RESULT:                                                                                     0.000000000000000000
RESULT: 6 0x32463D05d5F5443AdC9720137A5d4a50341C6c7e         0.000000000000000000           0.000000000000000000           0.000000000000000000 FeeToken:0x3246
RESULT:                                                                                     0.000000000000000000
RESULT: 7 0x83Dd10d39d0aB60A52E08050959f9BcC61b0D4dF         0.000000000000000000        3000.000000000000000000           0.000000000000000000 OptinoGov:0x83Dd
RESULT:                                                                                     0.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:                                                                                 40000.000000000000000000        3000.000000000000000000 Total Token Balances
RESULT:                                                                                     0.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:
RESULT: Token 0 OGToken:0x3d98 @ 0x3d98693e0d665a075eDf9Aacd28169EB787fe993
RESULT: - symbol               : OG
RESULT: - name                 : Optino Governance
RESULT: - decimals             : 18
RESULT: - totalSupply          : 40000
RESULT: - owner                : OptinoGov:0x83Dd
RESULT: Token 1 OGDToken:0x7113 @ 0x71130A1a433B047069Cb1e7b16923d081458d40f
RESULT: - symbol               : OGD
RESULT: - name                 : Optino Governance Dividend
RESULT: - decimals             : 18
RESULT: - totalSupply          : 3000
RESULT: - owner                : OptinoGov:0x83Dd
RESULT: - dividendTokenLength  : 2
RESULT: - dividendTokens       : 0 FeeToken:0x3246
RESULT: - dividendTokens       : 1 0x0000000000000000000000000000000000000000
RESULT: Token 2 FeeToken:0x3246 @ 0x32463D05d5F5443AdC9720137A5d4a50341C6c7e
RESULT: - symbol               : FEE
RESULT: - name                 : Fee
RESULT: - decimals             : 18
RESULT: - totalSupply          : 0
RESULT: - owner                : Owner:0xa00A
RESULT: OptinoGov OptinoGov:0x83Dd @ 0x83Dd10d39d0aB60A52E08050959f9BcC61b0D4dF
RESULT: - ogToken              : OGToken:0x3d98
RESULT: - ogdToken             : OGDToken:0x7113
RESULT: - maxLockTerm          : 1000 seconds = 0.01157407407407407407 days
RESULT: - rewardsPerSecond     : 150000000000000000 = 12960 per day
RESULT: - proposalCost         : 100000000000000000000 = 100
RESULT: - proposalThreshold    : 1000000000000000 = 0.1%
RESULT: - quorum               : 200000000000000000 = 20%
RESULT: - quorumDecayPerSecond : 12683916793 = 39.9999999984048% per year
RESULT: - votingDuration       : 10 seconds = 0.00011574074074074074 days
RESULT: - executeDelay         : 10 seconds = 0.00011574074074074074 days
RESULT: - rewardPool           : 0 = 0
RESULT: - totalVotes           : 1500000000000000000000 = 1500
RESULT: - proposalCount        : 0
RESULT: - stakeInfoLength      : 0
    ✓ Test OptinoGov Lock Tokens (4532ms)


  1 passing (13s)
```

<br />

#### Run OGDToken Tests

```
truffle test test/TestOGDToken.test.js
```

Sample output:

* Mint 10,000 OGD tokens for User{1..3}
* Owner approve 100 FEE0 for OGToken to spend
* Owner deposits dividends of 100 FEE0 and 10 ETH
* User1 dummy transfer to same account
* User{1..3} withdraw 33.333333333333333333 FEE0 and 3.333333333333333333 ETH
* Owner adds FEE1 and FEE2 as dividend tokens
* Owner approve 1,000 FEE1 and 10,000 FEE2 for OGToken to spend
* Owner deposits dividends of 1,000 FEE1 and 10,000 FEE2
* User{1..3} withdraw 333.333333333333333333 FEE1 and 3333.333333333333333333 FEE2


```
Iota:Governance bok$ truffle test test/TestOGDToken.test.js
Using network 'development'.


Compiling your contracts...
===========================
> Everything is up to date, there is nothing to compile.

TestOGDToken.test.js: describe(OGToken behavior tests)


  Contract: Test OGDToken
RESULT: --- Setup - Deploy OGToken, Fee{0..2} ---
--- Setup completed ---
RESULT: --- Setup - OGToken.addDividendTokens for ETH and Fee0 ---
RESULT:  # Account                                             EtherBalanceChange                            OGD                           FEE0 @ 31182 -> 31186
RESULT:                                                                                                     FEE1                           FEE2
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT: 0 0xa00Af22D07c87d96EeeB0Ed583f8F6AC7812827E         0.000000000000000000           0.000000000000000000       10000.000000000000000000 Owner:0xa00A
RESULT:                                                                                 10000.000000000000000000       10000.000000000000000000
RESULT: 1 0xa11AAE29840fBb5c86E6fd4cF809EBA183AEf433         0.000000000000000000           0.000000000000000000           0.000000000000000000 User1:0xa11A
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 2 0xa22AB8A9D641CE77e06D98b7D7065d324D3d6976         0.000000000000000000           0.000000000000000000           0.000000000000000000 User2:0xa22A
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 3 0xa33a6c312D9aD0E0F2E95541BeED0Cc081621fd0         0.000000000000000000           0.000000000000000000           0.000000000000000000 User3:0xa33a
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 4 0xD0c1257a2a6e3D7a677f83022aD258CD192A7913         0.000000000000000000           0.000000000000000000           0.000000000000000000 OGDToken:0xD0c1
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 5 0x599857802091546a357CBC86C4922776250D58fa         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee0Token:0x5998
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 6 0xDb612652c14545aF3dAc1409CDa148d884e6D8B2         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee1Token:0xDb61
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 7 0x4b22f95e021FDdB3D7F5e9AC38F579568809B19c         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee2Token:0x4b22
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:                                                                                     0.000000000000000000       10000.000000000000000000 Total Token Balances
RESULT:                                                                                 10000.000000000000000000       10000.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:
RESULT: Token 0 OGDToken:0xD0c1 @ 0xD0c1257a2a6e3D7a677f83022aD258CD192A7913
RESULT: - symbol               : OGD
RESULT: - name                 : Optino Governance Dividend
RESULT: - decimals             : 18
RESULT: - totalSupply          : 0
RESULT: - owner                : Owner:0xa00A
RESULT: - dividendTokensLength : 2
RESULT: - dividendToken        : 0 ETH|null:0x0000, enabled: true, unclaimedDividends: 0 = 0.000000000000000000
RESULT: - dividendToken        : 1 Fee0Token:0x5998, enabled: true, unclaimedDividends: 0 = 0.000000000000000000
RESULT: - dividendsOwing       : 1 User1:0xa11A
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT: - dividendsOwing       : 2 User2:0xa22A
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT: - dividendsOwing       : 3 User3:0xa33a
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT: Token 1 Fee0Token:0x5998 @ 0x599857802091546a357CBC86C4922776250D58fa
RESULT: - symbol               : FEE0
RESULT: - name                 : Fee0
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT: Token 2 Fee1Token:0xDb61 @ 0xDb612652c14545aF3dAc1409CDa148d884e6D8B2
RESULT: - symbol               : FEE1
RESULT: - name                 : Fee1
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT: Token 3 Fee2Token:0x4b22 @ 0x4b22f95e021FDdB3D7F5e9AC38F579568809B19c
RESULT: - symbol               : FEE2
RESULT: - name                 : Fee2
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT:
RESULT: --- Mint 10,000 OGD tokens for User{1..3}; Owner approve 100 FEE for OGToken to spend ---
RESULT: --- Owner deposits dividends of 100 FEE0 and 10 ETH ---
RESULT:  # Account                                             EtherBalanceChange                            OGD                           FEE0 @ 31182 -> 31190
RESULT:                                                                                                     FEE1                           FEE2
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT: 0 0xa00Af22D07c87d96EeeB0Ed583f8F6AC7812827E       -10.000000000000000000           0.000000000000000000        9900.000000000000000000 Owner:0xa00A
RESULT:                                                                                 10000.000000000000000000       10000.000000000000000000
RESULT: 1 0xa11AAE29840fBb5c86E6fd4cF809EBA183AEf433         0.000000000000000000       10000.000000000000000000           0.000000000000000000 User1:0xa11A
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 2 0xa22AB8A9D641CE77e06D98b7D7065d324D3d6976         0.000000000000000000       10000.000000000000000000           0.000000000000000000 User2:0xa22A
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 3 0xa33a6c312D9aD0E0F2E95541BeED0Cc081621fd0         0.000000000000000000       10000.000000000000000000           0.000000000000000000 User3:0xa33a
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 4 0xD0c1257a2a6e3D7a677f83022aD258CD192A7913        10.000000000000000000           0.000000000000000000         100.000000000000000000 OGDToken:0xD0c1
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 5 0x599857802091546a357CBC86C4922776250D58fa         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee0Token:0x5998
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 6 0xDb612652c14545aF3dAc1409CDa148d884e6D8B2         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee1Token:0xDb61
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 7 0x4b22f95e021FDdB3D7F5e9AC38F579568809B19c         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee2Token:0x4b22
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:                                                                                 30000.000000000000000000       10000.000000000000000000 Total Token Balances
RESULT:                                                                                 10000.000000000000000000       10000.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:
RESULT: Token 0 OGDToken:0xD0c1 @ 0xD0c1257a2a6e3D7a677f83022aD258CD192A7913
RESULT: - symbol               : OGD
RESULT: - name                 : Optino Governance Dividend
RESULT: - decimals             : 18
RESULT: - totalSupply          : 30000
RESULT: - owner                : Owner:0xa00A
RESULT: - dividendTokensLength : 2
RESULT: - dividendToken        : 0 ETH|null:0x0000, enabled: true, unclaimedDividends: 10000000000000000000 = 10.000000000000000000
RESULT: - dividendToken        : 1 Fee0Token:0x5998, enabled: true, unclaimedDividends: 100000000000000000000 = 100.000000000000000000
RESULT: - dividendsOwing       : 1 User1:0xa11A
RESULT:                            - ETH|null:0x0000 3333333333333333333 = 3.333333333333333333
RESULT:                            - Fee0Token:0x5998 33333333333333333333 = 33.333333333333333333
RESULT: - dividendsOwing       : 2 User2:0xa22A
RESULT:                            - ETH|null:0x0000 3333333333333333333 = 3.333333333333333333
RESULT:                            - Fee0Token:0x5998 33333333333333333333 = 33.333333333333333333
RESULT: - dividendsOwing       : 3 User3:0xa33a
RESULT:                            - ETH|null:0x0000 3333333333333333333 = 3.333333333333333333
RESULT:                            - Fee0Token:0x5998 33333333333333333333 = 33.333333333333333333
RESULT: Token 1 Fee0Token:0x5998 @ 0x599857802091546a357CBC86C4922776250D58fa
RESULT: - symbol               : FEE0
RESULT: - name                 : Fee0
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT: Token 2 Fee1Token:0xDb61 @ 0xDb612652c14545aF3dAc1409CDa148d884e6D8B2
RESULT: - symbol               : FEE1
RESULT: - name                 : Fee1
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT: Token 3 Fee2Token:0x4b22 @ 0x4b22f95e021FDdB3D7F5e9AC38F579568809B19c
RESULT: - symbol               : FEE2
RESULT: - name                 : Fee2
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT:
RESULT: --- User1 dummy transfer to same account ---
RESULT: --- User{1..3} withdraw 33.333333333333333333 FEE0 and 3.333333333333333333 ETH ---
RESULT:  # Account                                             EtherBalanceChange                            OGD                           FEE0 @ 31182 -> 31195
RESULT:                                                                                                     FEE1                           FEE2
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT: 0 0xa00Af22D07c87d96EeeB0Ed583f8F6AC7812827E        -9.989430560000000000           0.000000000000000000        9900.000000000000000000 Owner:0xa00A
RESULT:                                                                                 10000.000000000000000000       10000.000000000000000000
RESULT: 1 0xa11AAE29840fBb5c86E6fd4cF809EBA183AEf433         3.330225653333333333       10000.000000000000000000          33.333333333333333333 User1:0xa11A
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 2 0xa22AB8A9D641CE77e06D98b7D7065d324D3d6976         3.328979253333333333       10000.000000000000000000          33.333333333333333333 User2:0xa22A
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 3 0xa33a6c312D9aD0E0F2E95541BeED0Cc081621fd0         3.330225653333333333       10000.000000000000000000          33.333333333333333333 User3:0xa33a
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 4 0xD0c1257a2a6e3D7a677f83022aD258CD192A7913         0.000000000000000001           0.000000000000000000           0.000000000000000001 OGDToken:0xD0c1
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 5 0x599857802091546a357CBC86C4922776250D58fa         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee0Token:0x5998
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 6 0xDb612652c14545aF3dAc1409CDa148d884e6D8B2         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee1Token:0xDb61
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 7 0x4b22f95e021FDdB3D7F5e9AC38F579568809B19c         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee2Token:0x4b22
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:                                                                                 30000.000000000000000000       10000.000000000000000000 Total Token Balances
RESULT:                                                                                 10000.000000000000000000       10000.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:
RESULT: Token 0 OGDToken:0xD0c1 @ 0xD0c1257a2a6e3D7a677f83022aD258CD192A7913
RESULT: - symbol               : OGD
RESULT: - name                 : Optino Governance Dividend
RESULT: - decimals             : 18
RESULT: - totalSupply          : 30000
RESULT: - owner                : Owner:0xa00A
RESULT: - dividendTokensLength : 2
RESULT: - dividendToken        : 0 ETH|null:0x0000, enabled: true, unclaimedDividends: 1 = 0.000000000000000001
RESULT: - dividendToken        : 1 Fee0Token:0x5998, enabled: true, unclaimedDividends: 1 = 0.000000000000000001
RESULT: - dividendsOwing       : 1 User1:0xa11A
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT: - dividendsOwing       : 2 User2:0xa22A
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT: - dividendsOwing       : 3 User3:0xa33a
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT: Token 1 Fee0Token:0x5998 @ 0x599857802091546a357CBC86C4922776250D58fa
RESULT: - symbol               : FEE0
RESULT: - name                 : Fee0
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT: Token 2 Fee1Token:0xDb61 @ 0xDb612652c14545aF3dAc1409CDa148d884e6D8B2
RESULT: - symbol               : FEE1
RESULT: - name                 : Fee1
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT: Token 3 Fee2Token:0x4b22 @ 0x4b22f95e021FDdB3D7F5e9AC38F579568809B19c
RESULT: - symbol               : FEE2
RESULT: - name                 : Fee2
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT:
RESULT: --- Add Fee{1..2} Dividend Token ---
RESULT: --- Owner deposits dividends of 1,000 FEE1 and 10,000 FEE2 ---
RESULT:  # Account                                             EtherBalanceChange                            OGD                           FEE0 @ 31182 -> 31199
RESULT:                                                                                                     FEE1                           FEE2
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT: 0 0xa00Af22D07c87d96EeeB0Ed583f8F6AC7812827E        -9.989430560000000000           0.000000000000000000        9900.000000000000000000 Owner:0xa00A
RESULT:                                                                                  9000.000000000000000000           0.000000000000000000
RESULT: 1 0xa11AAE29840fBb5c86E6fd4cF809EBA183AEf433         3.330225653333333333       10000.000000000000000000          33.333333333333333333 User1:0xa11A
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 2 0xa22AB8A9D641CE77e06D98b7D7065d324D3d6976         3.328979253333333333       10000.000000000000000000          33.333333333333333333 User2:0xa22A
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 3 0xa33a6c312D9aD0E0F2E95541BeED0Cc081621fd0         3.330225653333333333       10000.000000000000000000          33.333333333333333333 User3:0xa33a
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 4 0xD0c1257a2a6e3D7a677f83022aD258CD192A7913         0.000000000000000001           0.000000000000000000           0.000000000000000001 OGDToken:0xD0c1
RESULT:                                                                                  1000.000000000000000000       10000.000000000000000000
RESULT: 5 0x599857802091546a357CBC86C4922776250D58fa         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee0Token:0x5998
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 6 0xDb612652c14545aF3dAc1409CDa148d884e6D8B2         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee1Token:0xDb61
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 7 0x4b22f95e021FDdB3D7F5e9AC38F579568809B19c         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee2Token:0x4b22
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:                                                                                 30000.000000000000000000       10000.000000000000000000 Total Token Balances
RESULT:                                                                                 10000.000000000000000000       10000.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:
RESULT: Token 0 OGDToken:0xD0c1 @ 0xD0c1257a2a6e3D7a677f83022aD258CD192A7913
RESULT: - symbol               : OGD
RESULT: - name                 : Optino Governance Dividend
RESULT: - decimals             : 18
RESULT: - totalSupply          : 30000
RESULT: - owner                : Owner:0xa00A
RESULT: - dividendTokensLength : 4
RESULT: - dividendToken        : 0 ETH|null:0x0000, enabled: true, unclaimedDividends: 1 = 0.000000000000000001
RESULT: - dividendToken        : 1 Fee0Token:0x5998, enabled: true, unclaimedDividends: 1 = 0.000000000000000001
RESULT: - dividendToken        : 2 Fee1Token:0xDb61, enabled: true, unclaimedDividends: 1000000000000000000000 = 1000.000000000000000000
RESULT: - dividendToken        : 3 Fee2Token:0x4b22, enabled: true, unclaimedDividends: 10000000000000000000000 = 10000.000000000000000000
RESULT: - dividendsOwing       : 1 User1:0xa11A
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT:                            - Fee1Token:0xDb61 333333333333333333333 = 333.333333333333333333
RESULT:                            - Fee2Token:0x4b22 3333333333333333333333 = 3333.333333333333333333
RESULT: - dividendsOwing       : 2 User2:0xa22A
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT:                            - Fee1Token:0xDb61 333333333333333333333 = 333.333333333333333333
RESULT:                            - Fee2Token:0x4b22 3333333333333333333333 = 3333.333333333333333333
RESULT: - dividendsOwing       : 3 User3:0xa33a
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT:                            - Fee1Token:0xDb61 333333333333333333333 = 333.333333333333333333
RESULT:                            - Fee2Token:0x4b22 3333333333333333333333 = 3333.333333333333333333
RESULT: Token 1 Fee0Token:0x5998 @ 0x599857802091546a357CBC86C4922776250D58fa
RESULT: - symbol               : FEE0
RESULT: - name                 : Fee0
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT: Token 2 Fee1Token:0xDb61 @ 0xDb612652c14545aF3dAc1409CDa148d884e6D8B2
RESULT: - symbol               : FEE1
RESULT: - name                 : Fee1
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT: Token 3 Fee2Token:0x4b22 @ 0x4b22f95e021FDdB3D7F5e9AC38F579568809B19c
RESULT: - symbol               : FEE2
RESULT: - name                 : Fee2
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT:
RESULT: --- User{1..3} withdraw 333.333333333333333333 FEE1 and 3333.333333333333333333 FEE2 ---
RESULT:  # Account                                             EtherBalanceChange                            OGD                           FEE0 @ 31182 -> 31201
RESULT:                                                                                                     FEE1                           FEE2
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT: 0 0xa00Af22D07c87d96EeeB0Ed583f8F6AC7812827E        -9.976682420000000000           0.000000000000000000        9900.000000000000000000 Owner:0xa00A
RESULT:                                                                                  9000.000000000000000000           0.000000000000000000
RESULT: 1 0xa11AAE29840fBb5c86E6fd4cF809EBA183AEf433         3.325976273333333333       10000.000000000000000000          33.333333333333333333 User1:0xa11A
RESULT:                                                                                   333.333333333333333333        3333.333333333333333333
RESULT: 2 0xa22AB8A9D641CE77e06D98b7D7065d324D3d6976         3.324729873333333333       10000.000000000000000000          33.333333333333333333 User2:0xa22A
RESULT:                                                                                   333.333333333333333333        3333.333333333333333333
RESULT: 3 0xa33a6c312D9aD0E0F2E95541BeED0Cc081621fd0         3.325976273333333333       10000.000000000000000000          33.333333333333333333 User3:0xa33a
RESULT:                                                                                   333.333333333333333333        3333.333333333333333333
RESULT: 4 0xD0c1257a2a6e3D7a677f83022aD258CD192A7913         0.000000000000000001           0.000000000000000000           0.000000000000000001 OGDToken:0xD0c1
RESULT:                                                                                     0.000000000000000001           0.000000000000000001
RESULT: 5 0x599857802091546a357CBC86C4922776250D58fa         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee0Token:0x5998
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 6 0xDb612652c14545aF3dAc1409CDa148d884e6D8B2         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee1Token:0xDb61
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: 7 0x4b22f95e021FDdB3D7F5e9AC38F579568809B19c         0.000000000000000000           0.000000000000000000           0.000000000000000000 Fee2Token:0x4b22
RESULT:                                                                                     0.000000000000000000           0.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:                                                                                 30000.000000000000000000       10000.000000000000000000 Total Token Balances
RESULT:                                                                                 10000.000000000000000000       10000.000000000000000000
RESULT: -- ------------------------------------------ --------------------------- ------------------------------ ------------------------------ ---------------------------
RESULT:
RESULT: Token 0 OGDToken:0xD0c1 @ 0xD0c1257a2a6e3D7a677f83022aD258CD192A7913
RESULT: - symbol               : OGD
RESULT: - name                 : Optino Governance Dividend
RESULT: - decimals             : 18
RESULT: - totalSupply          : 30000
RESULT: - owner                : Owner:0xa00A
RESULT: - dividendTokensLength : 4
RESULT: - dividendToken        : 0 ETH|null:0x0000, enabled: true, unclaimedDividends: 1 = 0.000000000000000001
RESULT: - dividendToken        : 1 Fee0Token:0x5998, enabled: true, unclaimedDividends: 1 = 0.000000000000000001
RESULT: - dividendToken        : 2 Fee1Token:0xDb61, enabled: true, unclaimedDividends: 1 = 0.000000000000000001
RESULT: - dividendToken        : 3 Fee2Token:0x4b22, enabled: true, unclaimedDividends: 1 = 0.000000000000000001
RESULT: - dividendsOwing       : 1 User1:0xa11A
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT:                            - Fee1Token:0xDb61 0 = 0.000000000000000000
RESULT:                            - Fee2Token:0x4b22 0 = 0.000000000000000000
RESULT: - dividendsOwing       : 2 User2:0xa22A
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT:                            - Fee1Token:0xDb61 0 = 0.000000000000000000
RESULT:                            - Fee2Token:0x4b22 0 = 0.000000000000000000
RESULT: - dividendsOwing       : 3 User3:0xa33a
RESULT:                            - ETH|null:0x0000 0 = 0.000000000000000000
RESULT:                            - Fee0Token:0x5998 0 = 0.000000000000000000
RESULT:                            - Fee1Token:0xDb61 0 = 0.000000000000000000
RESULT:                            - Fee2Token:0x4b22 0 = 0.000000000000000000
RESULT: Token 1 Fee0Token:0x5998 @ 0x599857802091546a357CBC86C4922776250D58fa
RESULT: - symbol               : FEE0
RESULT: - name                 : Fee0
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT: Token 2 Fee1Token:0xDb61 @ 0xDb612652c14545aF3dAc1409CDa148d884e6D8B2
RESULT: - symbol               : FEE1
RESULT: - name                 : Fee1
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT: Token 3 Fee2Token:0x4b22 @ 0x4b22f95e021FDdB3D7F5e9AC38F579568809B19c
RESULT: - symbol               : FEE2
RESULT: - name                 : Fee2
RESULT: - decimals             : 18
RESULT: - totalSupply          : 10000
RESULT: - owner                : Owner:0xa00A
RESULT:
RESULT: mint1.receipt.gasUsed: 108600
RESULT: depositDividendFee0.receipt.gasUsed: 91483
RESULT: depositDividendETH.receipt.gasUsed: 69215
RESULT: dummyTransfer.receipt.gasUsed: 142122
RESULT: withdrawDividends1.receipt.gasUsed: 155384
RESULT: addDividendToken2.receipt.gasUsed: 116331
RESULT: depositDividendFee1.receipt.gasUsed: 91483
    ✓ Test OGDToken workflow (15405ms)


  1 passing (20s)
```

<br />

#### Debug

```
truffle debug {txHash}
```

<br />

#### Migrate

```
truffle migrate [--reset]
```

<br />

<br />

Enjoy!

(c) The Optino Project 2020. GPLv2
